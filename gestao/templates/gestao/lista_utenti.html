{% extends 'gestao/base.html' %}

{% block content %}
<h1 class="mb-4">Elenco Utenti</h1>

<div class="card">
    <div class="card-body">
        <table class="table table-striped table-hover table-sm">
            <thead>
                <tr>
                    <th>Cognome e Nome</th>
                    <th>Dipartimento</th>
                    <th>Tipo Contratto</th>
                    <th>Stato</th>
                    <th>Azioni</th>
                </tr>
            </thead>
            <tbody>
                {% for utente in utenti %}
                <tr>
                    <td>
                        <a href="{% url 'dettaglio_utente' pk=utente.id %}">{{ utente.cognome }}, {{ utente.nome }}</a>
                    </td>
                    <td>{{ utente.dipartimento.nome|default:"--" }}</td>
                    <td>{{ utente.tipo_contratto }}</td>
                    <td>
                        {% if utente.attivo %}
                        <span class="badge bg-success">Attivo</span>
                        {% else %}
                        <span class="badge bg-secondary">Inattivo</span>
                        {% endif %}
                    </td>
                    <td>
                        <a href="{% url 'dettaglio_utente' pk=utente.id %}"
                            class="btn btn-sm btn-outline-primary">Dettagli</a>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="5" class="text-center">Nessun utente trovato.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}